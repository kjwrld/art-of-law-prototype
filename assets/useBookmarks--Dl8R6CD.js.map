{"version":3,"file":"useBookmarks--Dl8R6CD.js","sources":["../../src/hooks/useBookmarks.ts"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport { Course } from '../../data/courses';\nimport { \n  useAllCourses, \n  useHeroCourses, \n  useRecommendedCourses, \n  useEthicalAttorneyCourses,\n  useContinueWatchingCourses\n} from './useCourses';\n\nexport const useBookmarks = () => {\n  const [bookmarkedIds, setBookmarkedIds] = useState<string[]>([]);\n  const { data: allCourses } = useAllCourses();\n  const { data: heroCourses } = useHeroCourses();\n  const { data: recommendedCourses } = useRecommendedCourses();\n  const { data: ethicalCourses } = useEthicalAttorneyCourses();\n  const { data: continueWatchingCourses } = useContinueWatchingCourses();\n\n  // Load bookmarks from localStorage and listen for changes\n  useEffect(() => {\n    const loadBookmarks = () => {\n      const bookmarks = JSON.parse(localStorage.getItem('aow-bookmarks') || '[]');\n      setBookmarkedIds(bookmarks);\n    };\n\n    // Load initial bookmarks\n    loadBookmarks();\n\n    // Listen for storage changes (when other components update bookmarks)\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === 'aow-bookmarks') {\n        loadBookmarks();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    \n    // Custom event for same-window updates\n    const handleBookmarkChange = () => {\n      loadBookmarks();\n    };\n    \n    window.addEventListener('aow-bookmark-changed', handleBookmarkChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('aow-bookmark-changed', handleBookmarkChange);\n    };\n  }, []);\n\n  // Get full course objects from all possible sources\n  const bookmarkedCourses = useMemo(() => {\n    // Include the custom Theater course from CLE tracker\n    const theaterCourse = {\n      id: 'jarrett-theater',\n      instructor: 'Ernest Jarrett',\n      title: 'The Theater of the Courtroom',\n      description: 'Master storytelling, voice, movement, and presence to command the courtroom like a stage.',\n      modules: 7,\n      credits: 2.0,\n      credit_type: 'General',\n      selection: 'Recommended',\n      featured: true,\n      new_tag: false,\n      image_link: '/src/assets/course_img.png'\n    } as Course;\n    \n    // Combine all course sources\n    const combinedCourses = [\n      ...(allCourses || []),\n      ...(heroCourses || []),\n      ...(recommendedCourses || []),\n      ...(ethicalCourses || []),\n      ...(continueWatchingCourses || []),\n      theaterCourse // Add the custom CLE tracker course\n    ];\n    \n    // Remove duplicates based on ID\n    const uniqueCourses = combinedCourses.filter((course, index, array) => \n      array.findIndex(c => c.id === course.id) === index\n    );\n    \n    // Filter for bookmarked courses\n    return uniqueCourses.filter(course => \n      bookmarkedIds.includes(course.id || '')\n    );\n  }, [allCourses, heroCourses, recommendedCourses, ethicalCourses, continueWatchingCourses, bookmarkedIds]);\n\n\n  // Add bookmark\n  const addBookmark = (courseId: string) => {\n    const updatedBookmarks = [...bookmarkedIds, courseId];\n    setBookmarkedIds(updatedBookmarks);\n    localStorage.setItem('aow-bookmarks', JSON.stringify(updatedBookmarks));\n  };\n\n  // Remove bookmark\n  const removeBookmark = (courseId: string) => {\n    const updatedBookmarks = bookmarkedIds.filter(id => id !== courseId);\n    setBookmarkedIds(updatedBookmarks);\n    localStorage.setItem('aow-bookmarks', JSON.stringify(updatedBookmarks));\n  };\n\n  // Toggle bookmark\n  const toggleBookmark = (courseId: string) => {\n    if (bookmarkedIds.includes(courseId)) {\n      removeBookmark(courseId);\n    } else {\n      addBookmark(courseId);\n    }\n  };\n\n  // Check if course is bookmarked\n  const isBookmarked = (courseId: string) => {\n    return bookmarkedIds.includes(courseId);\n  };\n\n  return {\n    bookmarkedCourses,\n    bookmarkedIds,\n    addBookmark,\n    removeBookmark,\n    toggleBookmark,\n    isBookmarked\n  };\n};"],"names":["useBookmarks","bookmarkedIds","setBookmarkedIds","useState","allCourses","useAllCourses","heroCourses","useHeroCourses","recommendedCourses","useRecommendedCourses","ethicalCourses","useEthicalAttorneyCourses","continueWatchingCourses","useContinueWatchingCourses","useEffect","loadBookmarks","bookmarks","handleStorageChange","e","handleBookmarkChange","bookmarkedCourses","useMemo","theaterCourse","course","index","array","c","addBookmark","courseId","updatedBookmarks","removeBookmark","id"],"mappings":"6GAUO,MAAMA,EAAe,IAAM,CAChC,KAAM,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAmB,CAAA,CAAE,EACzD,CAAE,KAAMC,CAAA,EAAeC,EAAA,EACvB,CAAE,KAAMC,CAAA,EAAgBC,EAAA,EACxB,CAAE,KAAMC,CAAA,EAAuBC,EAAA,EAC/B,CAAE,KAAMC,CAAA,EAAmBC,EAAA,EAC3B,CAAE,KAAMC,CAAA,EAA4BC,EAAA,EAG1CC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAgB,IAAM,CAC1B,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQ,eAAe,GAAK,IAAI,EAC1Ed,EAAiBc,CAAS,CAC5B,EAGAD,EAAA,EAGA,MAAME,EAAuBC,GAAoB,CAC3CA,EAAE,MAAQ,iBACZH,EAAA,CAEJ,EAEA,OAAO,iBAAiB,UAAWE,CAAmB,EAGtD,MAAME,EAAuB,IAAM,CACjCJ,EAAA,CACF,EAEA,cAAO,iBAAiB,uBAAwBI,CAAoB,EAE7D,IAAM,CACX,OAAO,oBAAoB,UAAWF,CAAmB,EACzD,OAAO,oBAAoB,uBAAwBE,CAAoB,CACzE,CACF,EAAG,CAAA,CAAE,EAGL,MAAMC,EAAoBC,EAAAA,QAAQ,IAAM,CAEtC,MAAMC,EAAgB,CACpB,GAAI,kBACJ,WAAY,iBACZ,MAAO,+BACP,YAAa,4FACb,QAAS,EACT,QAAS,EACT,YAAa,UACb,UAAW,cACX,SAAU,GACV,QAAS,GACT,WAAY,4BAAA,EAmBd,MAfwB,CACtB,GAAIlB,GAAc,CAAA,EAClB,GAAIE,GAAe,CAAA,EACnB,GAAIE,GAAsB,CAAA,EAC1B,GAAIE,GAAkB,CAAA,EACtB,GAAIE,GAA2B,CAAA,EAC/BU,CAAA,EAIoC,OAAO,CAACC,EAAQC,EAAOC,IAC3DA,EAAM,UAAUC,GAAKA,EAAE,KAAOH,EAAO,EAAE,IAAMC,CAAA,EAI1B,OAAOD,GAC1BtB,EAAc,SAASsB,EAAO,IAAM,EAAE,CAAA,CAE1C,EAAG,CAACnB,EAAYE,EAAaE,EAAoBE,EAAgBE,EAAyBX,CAAa,CAAC,EAIlG0B,EAAeC,GAAqB,CACxC,MAAMC,EAAmB,CAAC,GAAG5B,EAAe2B,CAAQ,EACpD1B,EAAiB2B,CAAgB,EACjC,aAAa,QAAQ,gBAAiB,KAAK,UAAUA,CAAgB,CAAC,CACxE,EAGMC,EAAkBF,GAAqB,CAC3C,MAAMC,EAAmB5B,EAAc,OAAO8B,GAAMA,IAAOH,CAAQ,EACnE1B,EAAiB2B,CAAgB,EACjC,aAAa,QAAQ,gBAAiB,KAAK,UAAUA,CAAgB,CAAC,CACxE,EAgBA,MAAO,CACL,kBAAAT,EACA,cAAAnB,EACA,YAAA0B,EACA,eAAAG,EACA,eAlBsBF,GAAqB,CACvC3B,EAAc,SAAS2B,CAAQ,EACjCE,EAAeF,CAAQ,EAEvBD,EAAYC,CAAQ,CAExB,EAaE,aAVoBA,GACb3B,EAAc,SAAS2B,CAAQ,CAStC,CAEJ"}